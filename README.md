# Detecting software vulnerabilities in source code and the influence of variable naming
This repository contains tooling to create and prepare the data set used for my master\'s thesis. I have examined the influence of variable names on source code, which is used to train deep learning models on the task of vulnerability detection.
Three obfuscation methods have been tested:
1. type obfuscation: renames each variable such that the name contains the type and scope of te variable, possibly making the model rely more on the variable structure for making predictions.
2. random obfuscation: renames each variable such that the name contains a random string. This could make the model rely more on the code structure instead of relying on trends learned from variable names.
3. semi obfuscation: Only 50% of the variable names have been obfuscated using the type obfuscation method. Therefore, the model may be able to use variable names when they are informative, but will also be able to rely on the variable structure for making predictions.

We use [Roslyn](https://github.com/dotnet/roslyn), the open-source implementation of the C# compiler (and VB), to iterate through the samples and apply variable obfuscation.

Our thesis\' results show that variable obfuscation does not have an impact on the performance of the trained classifiers (at least for the samples used in this thesis project).

# Data Set Preparation
This solution contains three projects to extract samples from the [C# Vulnerability Test Suite](https://samate.nist.gov/SARD/test-suites/105) and [Juliet C# 1.3 Suite](https://samate.nist.gov/SARD/test-suites/110). The Extractor project is used to perform the sample extraction. Subsequently, the DataSetSplitter project is used to split the extracted samples into training, test, and validation sets. Finally, the Obfuscator project enables us to obfuscate the samples using various variable name obfuscation methods.

# How to use
1. Download the test case sources from SAMATE ([C# Vulnerability Test Suite](https://samate.nist.gov/SARD/test-suites/105) and [Juliet C# 1.3 Suite](https://samate.nist.gov/SARD/test-suites/110)).
2. Open this solution in Visual Studio 2022 or newer.
2. Extractor: Change the location of the C# Vulnerability Test Suite and Juliet C# 1.3 Suite test cases locations in the appsettings.json file of the Extractor project and specify the output locations.
3. Run the Extractor project.
4. Data set splitter: Change the location of the extracted C# Vulnerability Test Suite or Juliet C# 1.3 Suite test cases in the appsettings.json file and define the output location.
5. Run the Obfuscator project.
6. Obfuscator: Change the samples location, output location and obfuscation method (Semi, Type, Random, or Multi) in the appsettings.json file.
7. Run the obfuscator.
